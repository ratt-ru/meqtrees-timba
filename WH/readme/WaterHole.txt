Water Hole - General info
=========================

Rob Assendorp
File = WH/readme/WaterHole.txt

Introduction
------------
This document contains general info on the PSS WaterHole. 

Overview and philisophy
-----------------------

The Water hole (WH) is a place where people meet in the sense that
they share knowledge and data. Knowledge in the form of documents,
scripts, etc., data in the form of e.g. Measurement Sets. Thus the WH
has suppliers and customers, suppliers put stuff in the WH, customer
take stuff from it.

Sharing means the the WH contains public stuff, public stuff means
that any customer to the waterhole must be able to use it. This puts a
burden on the supplier. All supplies must be documented. It also puts
a burden on the WH-manger: all supplies must be listed such that
supplier and customers know what is present and where it is present.

Note that any supplier can be a customer (and vice versa) as well.

The WH contains two types tools:
 - those that are supplied by customers and must be used outside the WH
 - those that are created to maintain and use the WH. These are never
   used outside the WH.
The same holds for the documents that are in the WH.

Location and directory structure
--------------------------------

The actual waterhole repository is located on the lofar computers and
is divided over two physical location:
 - ~LOFAR/CEP/CPA/PSS4/WH - for scripts, tools, documentation, etc.:
    the main repository
 - ~LOFARDATA/WH will contain large data items that are used for benchmarks
 - /usr/local/PSS4/WH for - large data items like Measurement Sets:
    the data repository

The main repository has three main sections:
 - an internal section that contains the tools and documents that are
   needed for the WH itself,
 - a contrib section where suppliers can put new stuff that need to be
   reviewed,
 - a data section where the items are that can be obtained by the
   customers.

Note that one of the rules of the WH is that each subdirectory
contains the a README file that described the contents of the
directory.

The directory structure of the main repository is as follows:
 WH
 |
 |- build
 |
 |- data
 |
 |- readme
 |
 |- src
 |
 |- test

The purpose of the directories is:

build: part of the internal section.
       Results of build of tools necessary to maintain and use the
       WH. Both suppliers and customers mus tbe able to use them
readme: part of the internal section.
       Documents needed for maintaining the WH.
data: the data section.
       For further subdivisions, see below.
src: part of the internal section.
       Source code tree for the internal tools.
test: part of the internal section.
       Stuff needed for testing internal tools.

Subdivision of data:
--------------------

The data directory is further subdivided into:

data
 |
 |- Docs = Documents
 |
 |- MSlist = list of all Measurements sets that are avialable in the
 |           Westerbork archive.
 | 
...

Procedures
----------

Become a supplier
-----------------

Read this document and stick to the rules.
(easy, isn't it)

Adding new stuff
----------------

The steps for adding new stuff to the WH are:

For the supplier:
 - put the item and the required documentation in a place where the
   WH-manager can reach it,
 - notify the WH-manager.

For the WH-manager:
 - check if all required documentation is present,
 - appoint a reviewer for the new item,

For the reveiwer:
 - review the item (read docs, read code, try out tools on test data, ...),
 - report FAIL (with reason) or OK to the WH manager,

For the WH-manager:
 - if reported FAIL
   - notify supplier,
 - if reported OK
   - notify supplier
   - put in data section
   - add to CVS
